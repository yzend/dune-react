import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Utils/utils-time/æ—¶é—´å·¥å…·å‡½æ•°" />

# æ—¶é—´å·¥å…·å‡½æ•°

### æ¦‚è¿°

æ—¶é—´å·¥å…·å‡½æ•°æ¨¡å—æä¾›äº†ä¸°å¯Œçš„æ—¶é—´å¤„ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç›¸å¯¹æ—¶é—´è®¡ç®—ã€æ—¶é—´æ ¼å¼åŒ–ã€æ—¶é—´æˆ³è·å–ç­‰å¸¸ç”¨åŠŸèƒ½ã€‚

### å¯ç”¨å‡½æ•°

#### ğŸ“… [timeAgo](./timeAgo.mdx)
è®¡ç®—è·ç¦»ç°åœ¨å¤šå°‘æ—¶é—´ï¼Œè¿”å›æ ¼å¼åŒ–çš„ç›¸å¯¹æ—¶é—´å­—ç¬¦ä¸²ã€‚æ”¯æŒä¸­è‹±æ–‡æ˜¾ç¤ºï¼Œå¯é…ç½®æ˜¯å¦æ˜¾ç¤ºç§’æ•°å’Œé›¶å€¼ã€‚

```typescript
import { timeAgo } from "dune-react/utils";

const date = new Date("2024-01-01");
console.log(timeAgo(date)); // "3ä¸ªæœˆå‰"
console.log(timeAgo(date, { lang: "en" })); // "3 months ago"
```

#### â° [formatTimeAgo](./formatTimeAgo.mdx)
æ ¼å¼åŒ–æ—¥æœŸä¸ºç›¸å¯¹æ—¶é—´çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä½¿ç”¨è‹±æ–‡æ˜¾ç¤ºï¼Œæ˜¯ `timeAgo` å‡½æ•°çš„ä¾¿æ·åŒ…è£…å™¨ã€‚

```typescript
import { formatTimeAgo } from "dune-react/utils";

const date = new Date("2024-01-01");
console.log(formatTimeAgo(date)); // "3 months ago"
```

#### ğŸ“Š [getTimeDetails](./getTimeDetails.mdx)
è·å–è¯¦ç»†çš„æ—¶é—´ä¿¡æ¯ï¼Œè¿”å›åŒ…å«å„ç§æ—¶é—´å•ä½çš„å¯¹è±¡ï¼Œç”¨äºéœ€è¦ç²¾ç¡®æ—¶é—´å·®è®¡ç®—çš„åœºæ™¯ã€‚

```typescript
import { getTimeDetails } from "dune-react/utils";

const details = getTimeDetails(new Date("2024-01-01"));
console.log(details.days); // å¤©æ•°å·®
console.log(details.hours); // å°æ—¶å·®
```

#### ğŸ• [getTimestamp](./getTimestamp.mdx)
è·å–å½“å‰æ—¶é—´çš„ Unix æ—¶é—´æˆ³ï¼ˆç§’çº§ï¼‰ï¼Œè¿”å›ä» 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTC åˆ°ç°åœ¨çš„ç§’æ•°ã€‚

```typescript
import { getTimestamp } from "dune-react/utils";

const timestamp = getTimestamp();
console.log(timestamp); // 1704067200
```

#### ğŸ˜´ [sleep](./sleep.mdx)
åˆ›å»ºä¸€ä¸ªå¼‚æ­¥ç¡çœ å‡½æ•°ï¼Œç”¨äºåœ¨å¼‚æ­¥æ“ä½œä¸­æš‚åœæ‰§è¡ŒæŒ‡å®šçš„æ¯«ç§’æ•°ã€‚

```typescript
import { sleep } from "dune-react/utils";

async function example() {
  console.log("å¼€å§‹");
  await sleep(1000); // ç¡çœ 1ç§’
  console.log("1ç§’å");
}
```

#### ğŸ“ [formatTimeString](./formatTimeString.mdx)
ä½¿ç”¨ dayjs åº“å°† Date å¯¹è±¡æ ¼å¼åŒ–ä¸ºæ ‡å‡†çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²ï¼Œæ ¼å¼ä¸º "YYYY-MM-DD HH:mm:ss"ã€‚

```typescript
import { formatTimeString } from "dune-react/utils";

const now = new Date();
console.log(formatTimeString(now)); // "2024-01-01 12:30:45"
```

### å®Œæ•´å¯¼å…¥ç¤ºä¾‹

```typescript
import {
  timeAgo,
  formatTimeAgo,
  getTimeDetails,
  getTimestamp,
  sleep,
  formatTimeString
} from "dune-react/utils";
```

### ä½¿ç”¨åœºæ™¯

- **ç¤¾äº¤åª’ä½“**: æ˜¾ç¤º"3åˆ†é’Ÿå‰"ã€"2å°æ—¶å‰"ç­‰ç›¸å¯¹æ—¶é—´
- **æ—¥å¿—ç³»ç»Ÿ**: è®°å½•ç²¾ç¡®çš„æ—¶é—´æˆ³å’Œæ ¼å¼åŒ–æ—¶é—´
- **API å¼€å‘**: å¤„ç†æ—¶é—´å‚æ•°å’Œå“åº”æ—¶é—´æˆ³
- **ç”¨æˆ·ç•Œé¢**: æ˜¾ç¤ºæ–‡ä»¶ä¿®æ”¹æ—¶é—´ã€æ´»åŠ¨æ—¶é—´ç­‰
- **æ•°æ®å­˜å‚¨**: æ ¼å¼åŒ–æ—¶é—´ç”¨äºæ•°æ®åº“å­˜å‚¨
- **å¼‚æ­¥æ“ä½œ**: å®ç°å»¶è¿Ÿã€é‡è¯•ã€é˜²æŠ–ç­‰åŠŸèƒ½

### ä¾èµ–

- **dayjs**: ç”¨äºæ—¶é—´æ ¼å¼åŒ–å’Œå¤„ç†
- **åŸç”Ÿ Date API**: ç”¨äºåŸºç¡€æ—¶é—´æ“ä½œ
