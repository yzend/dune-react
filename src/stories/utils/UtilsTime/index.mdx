import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Utils/utils-time/时间工具函数" />

# 时间工具函数

### 概述

时间工具函数模块提供了丰富的时间处理功能，包括相对时间计算、时间格式化、时间戳获取等常用功能。

### 可用函数

#### 📅 [timeAgo](./timeAgo.mdx)
计算距离现在多少时间，返回格式化的相对时间字符串。支持中英文显示，可配置是否显示秒数和零值。

```typescript
import { timeAgo } from "dune-react/utils";

const date = new Date("2024-01-01");
console.log(timeAgo(date)); // "3个月前"
console.log(timeAgo(date, { lang: "en" })); // "3 months ago"
```

#### ⏰ [formatTimeAgo](./formatTimeAgo.mdx)
格式化日期为相对时间的简化版本，使用英文显示，是 `timeAgo` 函数的便捷包装器。

```typescript
import { formatTimeAgo } from "dune-react/utils";

const date = new Date("2024-01-01");
console.log(formatTimeAgo(date)); // "3 months ago"
```

#### 📊 [getTimeDetails](./getTimeDetails.mdx)
获取详细的时间信息，返回包含各种时间单位的对象，用于需要精确时间差计算的场景。

```typescript
import { getTimeDetails } from "dune-react/utils";

const details = getTimeDetails(new Date("2024-01-01"));
console.log(details.days); // 天数差
console.log(details.hours); // 小时差
```

#### 🕐 [getTimestamp](./getTimestamp.mdx)
获取当前时间的 Unix 时间戳（秒级），返回从 1970 年 1 月 1 日 00:00:00 UTC 到现在的秒数。

```typescript
import { getTimestamp } from "dune-react/utils";

const timestamp = getTimestamp();
console.log(timestamp); // 1704067200
```

#### 😴 [sleep](./sleep.mdx)
创建一个异步睡眠函数，用于在异步操作中暂停执行指定的毫秒数。

```typescript
import { sleep } from "dune-react/utils";

async function example() {
  console.log("开始");
  await sleep(1000); // 睡眠1秒
  console.log("1秒后");
}
```

#### 📝 [formatTimeString](./formatTimeString.mdx)
使用 dayjs 库将 Date 对象格式化为标准的日期时间字符串，格式为 "YYYY-MM-DD HH:mm:ss"。

```typescript
import { formatTimeString } from "dune-react/utils";

const now = new Date();
console.log(formatTimeString(now)); // "2024-01-01 12:30:45"
```

### 完整导入示例

```typescript
import {
  timeAgo,
  formatTimeAgo,
  getTimeDetails,
  getTimestamp,
  sleep,
  formatTimeString
} from "dune-react/utils";
```

### 使用场景

- **社交媒体**: 显示"3分钟前"、"2小时前"等相对时间
- **日志系统**: 记录精确的时间戳和格式化时间
- **API 开发**: 处理时间参数和响应时间戳
- **用户界面**: 显示文件修改时间、活动时间等
- **数据存储**: 格式化时间用于数据库存储
- **异步操作**: 实现延迟、重试、防抖等功能

### 依赖

- **dayjs**: 用于时间格式化和处理
- **原生 Date API**: 用于基础时间操作
